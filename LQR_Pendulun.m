M = 0.3;
m = 0.15;
L = 0.5/2;
g = 9.81;
b = 0.5;
theta0 = 180;
A = [0 0 1 0;
     0 0 0 1;
     0 3.27  -1.48 0;
     0 19.62 -2.22 0];
     
B = [0;
     0;
     2.96;
     4.444];
Q = diag([1, 3, 1, 1]);  
R = 0.1;                   
K = lqr(A, B, Q, R);

theta_threshold = 0.3;   
omega_threshold = 1.5;  